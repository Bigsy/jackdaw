<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>jackdaw.test.journal documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Jackdaw</span> <span class="project-version">0.6.1-gh-pages-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="test-machine.html"><div class="inner"><span>The Test Machine</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jackdaw</span></div></div></li><li class="depth-2 branch"><a href="jackdaw.admin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>admin</span></div></a></li><li class="depth-2"><a href="jackdaw.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.client.log.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log</span></div></a></li><li class="depth-3"><a href="jackdaw.client.partitioning.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>partitioning</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.data.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2"><a href="jackdaw.serdes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serdes</span></div></a></li><li class="depth-3"><a href="jackdaw.serdes.avro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>avro</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.serdes.avro.confluent.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>confluent</span></div></a></li><li class="depth-4"><a href="jackdaw.serdes.avro.schema-registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema-registry</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.serdes.edn.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>edn</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.serdes.fn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fn</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.serdes.fn-impl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fn-impl</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.serdes.json.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>json</span></div></a></li><li class="depth-3"><a href="jackdaw.serdes.resolver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>resolver</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.specs.html"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2"><a href="jackdaw.streams.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>streams</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.configurable.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>configurable</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.configured.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>configured</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.extras.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extras</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.interop.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interop</span></div></a></li><li class="depth-3"><a href="jackdaw.streams.lambdas.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lambdas</span></div></a></li><li class="depth-4"><a href="jackdaw.streams.lambdas.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.mock.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-3"><a href="jackdaw.streams.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2"><a href="jackdaw.test.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-3"><a href="jackdaw.test.commands.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commands</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.commands.base.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.commands.watch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>watch</span></div></a></li><li class="depth-4"><a href="jackdaw.test.commands.write.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>write</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.test.fixtures.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch current"><a href="jackdaw.test.journal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>journal</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.test.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.test.serde.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serde</span></div></a></li><li class="depth-3"><a href="jackdaw.test.transports.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transports</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.transports.identity.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>identity</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.transports.kafka.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kafka</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.transports.mock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-4"><a href="jackdaw.test.transports.rest-proxy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rest-proxy</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="jackdaw.test.journal.html#var-journal-read"><div class="inner"><span>journal-read</span></div></a></li><li class="depth-1"><a href="jackdaw.test.journal.html#var-journal-result"><div class="inner"><span>journal-result</span></div></a></li><li class="depth-1"><a href="jackdaw.test.journal.html#var-journaller"><div class="inner"><span>journaller</span></div></a></li><li class="depth-1"><a href="jackdaw.test.journal.html#var-reverse-lookup"><div class="inner"><span>reverse-lookup</span></div></a></li><li class="depth-1"><a href="jackdaw.test.journal.html#var-watch-for"><div class="inner"><span>watch-for</span></div></a></li><li class="depth-1"><a href="jackdaw.test.journal.html#var-with-journal"><div class="inner"><span>with-journal</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">jackdaw.test.journal</h1><div class="doc"><pre class="plaintext">
</pre></div><div class="public anchor" id="var-journal-read"><h3>journal-read</h3><div class="usage"><code>(journal-read journal journal-key v)</code></div><div class="doc"><pre class="plaintext">Append `record` into the `journal` under `journal-key`
</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.1-gh-pages-SNAPSHOT/src/jackdaw/test/journal.clj#L34">view source</a></div></div><div class="public anchor" id="var-journal-result"><h3>journal-result</h3><div class="usage"><code>(journal-result machine record)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.1-gh-pages-SNAPSHOT/src/jackdaw/test/journal.clj#L58">view source</a></div></div><div class="public anchor" id="var-journaller"><h3>journaller</h3><div class="usage"><code>(journaller machine stop?)</code></div><div class="doc"><pre class="plaintext">Returns an asynchronous process that reads all messages produced by
the supplied `machine`'s `:consumer` and records them in the journal</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.1-gh-pages-SNAPSHOT/src/jackdaw/test/journal.clj#L68">view source</a></div></div><div class="public anchor" id="var-reverse-lookup"><h3>reverse-lookup</h3><div class="usage"><code>(reverse-lookup topic-metadata topic)</code></div><div class="doc"><pre class="plaintext">Given a map of `topic-metadata`, find the name of the entry whose
`:topic-name` matches the supplied topic.

The name supplied in the key positions in the supplied map do not necessarily
match the topic name. This allows users to provide a 'logical' name that may stay
constant if the user wishes over version changes.

This function is used when populating the journal to ensure that the topic
identifiers given by the user are used when populating the journal (instead of
the real topic names).</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.1-gh-pages-SNAPSHOT/src/jackdaw/test/journal.clj#L40">view source</a></div></div><div class="public anchor" id="var-watch-for"><h3>watch-for</h3><div class="usage"><code>(watch-for machine condition? timeout info)</code></div><div class="doc"><pre class="plaintext">Returns the first true application of the journal to the specified condition `condition?`
</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.1-gh-pages-SNAPSHOT/src/jackdaw/test/journal.clj#L14">view source</a></div></div><div class="public anchor" id="var-with-journal"><h3>with-journal</h3><div class="usage"><code>(with-journal machine journal)</code></div><div class="doc"><pre class="plaintext">Enriches the supplied `machine` with a journaller that will write to
the supplied `journal`.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.1-gh-pages-SNAPSHOT/src/jackdaw/test/journal.clj#L89">view source</a></div></div></div></body></html>
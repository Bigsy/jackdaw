<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>jackdaw.admin documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Jackdaw</span> <span class="project-version">0.6.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="test-machine.html"><div class="inner"><span>The Test Machine</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jackdaw</span></div></div></li><li class="depth-2 branch current"><a href="jackdaw.admin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>admin</span></div></a></li><li class="depth-2"><a href="jackdaw.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.client.log.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log</span></div></a></li><li class="depth-3"><a href="jackdaw.client.partitioning.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>partitioning</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.data.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2"><a href="jackdaw.serdes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serdes</span></div></a></li><li class="depth-3"><a href="jackdaw.serdes.avro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>avro</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.serdes.avro.confluent.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>confluent</span></div></a></li><li class="depth-4"><a href="jackdaw.serdes.avro.schema-registry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema-registry</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.serdes.edn.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>edn</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.serdes.fn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fn</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.serdes.fn-impl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fn-impl</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.serdes.json.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>json</span></div></a></li><li class="depth-3"><a href="jackdaw.serdes.resolver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>resolver</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.specs.html"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2"><a href="jackdaw.streams.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>streams</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.configurable.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>configurable</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.configured.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>configured</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.extras.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extras</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.interop.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interop</span></div></a></li><li class="depth-3"><a href="jackdaw.streams.lambdas.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lambdas</span></div></a></li><li class="depth-4"><a href="jackdaw.streams.lambdas.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.mock.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.streams.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-3"><a href="jackdaw.streams.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2"><a href="jackdaw.test.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-3"><a href="jackdaw.test.commands.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commands</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.commands.base.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.commands.watch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>watch</span></div></a></li><li class="depth-4"><a href="jackdaw.test.commands.write.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>write</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.test.fixtures.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.test.journal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>journal</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.test.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3 branch"><a href="jackdaw.test.serde.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serde</span></div></a></li><li class="depth-3"><a href="jackdaw.test.transports.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transports</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.transports.identity.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>identity</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.transports.kafka.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kafka</span></div></a></li><li class="depth-4 branch"><a href="jackdaw.test.transports.mock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-4"><a href="jackdaw.test.transports.rest-proxy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rest-proxy</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="jackdaw.admin.html#var-alter-topic-config.21"><div class="inner"><span>alter-topic-config!</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-Client"><div class="inner"><span>Client</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.admin.html#var-alter-topics*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>alter-topics*</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.admin.html#var-create-topics*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>create-topics*</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.admin.html#var-delete-topics*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete-topics*</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.admin.html#var-describe-cluster*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>describe-cluster*</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.admin.html#var-describe-configs*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>describe-configs*</span></div></a></li><li class="depth-2 branch"><a href="jackdaw.admin.html#var-describe-topics*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>describe-topics*</span></div></a></li><li class="depth-2"><a href="jackdaw.admin.html#var-list-topics*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>list-topics*</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-client-impl"><div class="inner"><span>client-impl</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-client.3F"><div class="inner"><span>client?</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-create-topics.21"><div class="inner"><span>create-topics!</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-delete-topics.21"><div class="inner"><span>delete-topics!</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-describe-cluster"><div class="inner"><span>describe-cluster</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-describe-topics"><div class="inner"><span>describe-topics</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-describe-topics-configs"><div class="inner"><span>describe-topics-configs</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-get-broker-config"><div class="inner"><span>get-broker-config</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-list-topics"><div class="inner"><span>list-topics</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-partition-ids-of-topics"><div class="inner"><span>partition-ids-of-topics</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-retry-exists.3F"><div class="inner"><span>retry-exists?</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-topic-exists.3F"><div class="inner"><span>topic-exists?</span></div></a></li><li class="depth-1"><a href="jackdaw.admin.html#var-topics-ready.3F"><div class="inner"><span>topics-ready?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">jackdaw.admin</h1><div class="doc"><pre class="plaintext">Tools for administering or just interacting with a Kafka cluster.

Wraps the `AdminClient` API, replacing the Scala admin APIs.

Like the underlying `AdminClient` API, this namespace is subject to
change and should be considered of alpha stability.</pre></div><div class="public anchor" id="var-alter-topic-config.21"><h3>alter-topic-config!</h3><div class="usage"><code>(alter-topic-config! client topics)</code></div><div class="doc"><pre class="plaintext">Given an `AdminClient` and a sequence of topic descriptors having
`:topic-config`, alters the live configuration of the specified
topics to correspond to the specified `:topic-config`.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L175">view source</a></div></div><div class="public anchor" id="var-Client"><h3>Client</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-alter-topics*"><h3>alter-topics*</h3><div class="usage"><code>(alter-topics* this topics)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-create-topics*"><h3>create-topics*</h3><div class="usage"><code>(create-topics* this topics)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-delete-topics*"><h3>delete-topics*</h3><div class="usage"><code>(delete-topics* this topics)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-describe-cluster*"><h3>describe-cluster*</h3><div class="usage"><code>(describe-cluster* this)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-describe-configs*"><h3>describe-configs*</h3><div class="usage"><code>(describe-configs* this configs)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-describe-topics*"><h3>describe-topics*</h3><div class="usage"><code>(describe-topics* this topics)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-list-topics*"><h3>list-topics*</h3><div class="usage"><code>(list-topics* this)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L15">view source</a></div></div><div class="public anchor" id="var-client-impl"><h3>client-impl</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L24">view source</a></div></div><div class="public anchor" id="var-client.3F"><h3>client?</h3><div class="usage"><code>(client? x)</code></div><div class="doc"><pre class="plaintext">Predicate.

Return `true` if and only if given an `AdminClient` instance.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L58">view source</a></div></div><div class="public anchor" id="var-create-topics.21"><h3>create-topics!</h3><div class="usage"><code>(create-topics! client topics)</code></div><div class="doc"><pre class="plaintext">Given an `AdminClient` and a collection of topic descriptors,
create the specified topics with their configuration(s).

Does not block until the created topics are ready. It may take some
time for replicas and leaders to be chosen for newly created
topics.

See `#'topics-ready?`, `#'topic-exists?` and `#'retry-exists?` for
tools with which to wait for topics to be ready.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L98">view source</a></div></div><div class="public anchor" id="var-delete-topics.21"><h3>delete-topics!</h3><div class="usage"><code>(delete-topics! client topics)</code></div><div class="doc"><pre class="plaintext">Given an `AdminClient` and a sequence of topic descriptors, marks the
topics for deletion.

Does not block until the topics are deleted, just until the deletion
request(s) are acknowledged.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L184">view source</a></div></div><div class="public anchor" id="var-describe-cluster"><h3>describe-cluster</h3><div class="usage"><code>(describe-cluster client)</code></div><div class="doc"><pre class="plaintext">Returns a `DescribeClusterResult` describing the cluster.
</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L212">view source</a></div></div><div class="public anchor" id="var-describe-topics"><h3>describe-topics</h3><div class="usage"><code>(describe-topics client)</code><code>(describe-topics client topics)</code></div><div class="doc"><pre class="plaintext">Given an `AdminClient` and an optional collection of topic
descriptors, return a map from topic names to topic
descriptions.

If no topics are provided, describes all topics.

Note that the topic description does NOT include the topic's
configuration.See `#'describe-topic-config` for that capability.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L113">view source</a></div></div><div class="public anchor" id="var-describe-topics-configs"><h3>describe-topics-configs</h3><div class="usage"><code>(describe-topics-configs client topics)</code></div><div class="doc"><pre class="plaintext">Given an `AdminClient` and a collection of topic descriptors, returns
the selected topics' live configuration as a map from topic names to
configured properties to metadata about each property including its
current value.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L132">view source</a></div></div><div class="public anchor" id="var-get-broker-config"><h3>get-broker-config</h3><div class="usage"><code>(get-broker-config client broker-id)</code></div><div class="doc"><pre class="plaintext">Returns the broker config as a map.

Broker-id is an int, typically 0-2, get the list of valid broker ids
using describe-cluster</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L219">view source</a></div></div><div class="public anchor" id="var-list-topics"><h3>list-topics</h3><div class="usage"><code>(list-topics client)</code></div><div class="doc"><pre class="plaintext">Given an `AdminClient`, return a seq of topic records, being the
topics on the cluster.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L65">view source</a></div></div><div class="public anchor" id="var-partition-ids-of-topics"><h3>partition-ids-of-topics</h3><div class="usage"><code>(partition-ids-of-topics client)</code><code>(partition-ids-of-topics client topics)</code></div><div class="doc"><pre class="plaintext">Given an `AdminClient` and an optional sequence of topics, produces a
mapping from topic names to a sequence of the partition IDs for that
topic.

By default, enumerates the partition IDs for all topics.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L195">view source</a></div></div><div class="public anchor" id="var-retry-exists.3F"><h3>retry-exists?</h3><div class="usage"><code>(retry-exists? client topic num-retries wait-ms)</code></div><div class="doc"><pre class="plaintext">Returns `true` if topic exists. Otherwise spins as configured.
</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L85">view source</a></div></div><div class="public anchor" id="var-topic-exists.3F"><h3>topic-exists?</h3><div class="usage"><code>(topic-exists? client {:keys [topic-name], :as topic})</code></div><div class="doc"><pre class="plaintext">Verifies the existence of the topic.

Does not verify any config. details or values.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L76">view source</a></div></div><div class="public anchor" id="var-topics-ready.3F"><h3>topics-ready?</h3><div class="usage"><code>(topics-ready? client topics)</code></div><div class="doc"><pre class="plaintext">Given an `AdminClient` and a sequence topic descriptors, return
`true` if and only if all listed topics have a leader and in-sync
replicas.

This can be used to determine if some set of newly created topics
are healthy yet, or detect whether leader re-election has finished
following the demise of a Kafka broker.</pre></div><div class="src-link"><a href="http://github.com/fundingcircle/jackdaw/blob/0.6.0/src/jackdaw/admin.clj#L146">view source</a></div></div></div></body></html>
